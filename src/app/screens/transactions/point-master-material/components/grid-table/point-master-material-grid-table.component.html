<div class="custom-table">
  <table>
    <thead>
      <tr>
        <th>Point Name</th>
        <th>Point Charge</th>
        <th>Same Location Charge</th>
        <th>Remarks</th>
        <th class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (pointchargeMat of pointChargesList; track pointchargeMat.id) {
      <tr>
        <td class="pointer">
          <span
            container="body"
            placement="end"
            tooltipClass="table-datetime-popover"
            [ngbTooltip]="tipContent"
          >
            <u>{{pointchargeMat.pointName}}</u>
          </span>
          <ng-template #tipContent>
            <div class="">
              <div class="content-row">
                <span>Creation Date</span>
                <span>{{pointchargeMat?.creationDate}}</span>
              </div>
              <div class="content-row">
                <span>Created By</span>
                <span>{{pointchargeMat?.createdBy}}</span>
              </div>
              <div class="content-row">
                <span>Last Update Date</span>
                <span>{{pointchargeMat?.lastUpdateOn}}</span>
              </div>
              <div class="content-row">
                <span>Last Updated By</span>
                <span>{{pointchargeMat?.lastUpdatedBy}}</span>
            </div>
            </div>
          </ng-template>
        </td>
        <td>{{pointchargeMat?.pointCharge}}</td>
        <td>{{pointchargeMat?.sameLocationCharge}}</td>
        <td>-</td>
        <td class="text-center d-flex justify-content-center" (click)="selectPoint(pointchargeMat.id)">
          <!-- Approve Button -->
          <button type="button" class="custom-button-secondary-small me-2" [ngbPopover]="approvePopContent"
            [popoverTitle]="popTitle" [autoClose]="'outside'" triggers="manual" placement="left"
            #approvePopover="ngbPopover" (click)="openPopover(approvePopover)">
            Approve
          </button>
          <!-- Reject Button -->
          <button type="button" class="custom-button-regulr-small" [ngbPopover]="rejectPopContent"
            [popoverTitle]="popTitle" [autoClose]="'outside'" triggers="manual" placement="left"
            #rejectPopover="ngbPopover" (click)="openPopover(rejectPopover)">
            Reject
          </button>

          <!-- Approve Popover Content -->
          <ng-template #approvePopContent approveRemarks="ngbPopover">
            <div class="custom-form-input">
              <textarea name="" id="" rows="3" class="input-field" #approveRemarks></textarea>
            </div>
            <button class="custom-button-secondary" (click)="approvePoint(approveRemarks.value, approvePopover)">
              Confirm Approve
            </button>
          </ng-template>

          <!-- Reject Popover Content -->
          <ng-template #rejectPopContent rejectRemarks="ngbPopover">
            <div class="custom-form-input">
              <textarea name="" id="" rows="3" class="input-field" #rejectRemarks></textarea>
            </div>
            <button class="custom-button-regulr" [disabled]="rejectRemarks.value.trim() === ''" (click)="rejectPoint(rejectRemarks.value, rejectPopover)">
              Confirm Reject
            </button>
          </ng-template>
          <ng-template #popTitle>Remarks</ng-template>
        </td>
      </tr>
    }@empty {
      <tr>
        <td align="center" colspan="13">No Results Found</td>
      </tr>
    }
    </tbody>
  </table>
</div>
<!-- <div class="spinner" *ngIf="loadSpinner">
  Loading...
</div> -->
